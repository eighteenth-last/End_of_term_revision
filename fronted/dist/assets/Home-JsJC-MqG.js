import{u as N,r as k,a as R,s as S,o as T,c as E,b as l,w as t,d,p as M,e as V,f as u,g as J,t as _,h as m}from"./index-CLO37vWr.js";import{R as O}from"./RefreshOutline-Bgy7ErIL.js";const L={__name:"Home",setup(U){const I=N(),g=k(!1),B=R(),{userId:P}=S(B),a=k({today:{total_count:0,correct_count:0,wrong_count:0,accuracy:0,grade:"F"},week:{total_count:0,correct_count:0,wrong_count:0,accuracy:0,grade:"F"},all:{total_count:0,correct_count:0,wrong_count:0,accuracy:0,grade:"F"},consecutive_days:0}),w=f=>f>=90?"success":f>=80?"info":f>=70?"warning":"error",b=f=>f==="A"?"success":f==="B"?"info":f==="C"||f==="D"?"warning":"error",A=async()=>{g.value=!0;try{const f=await M.homeStats(P.value);a.value=f}catch(f){I.error(f.message||"加载统计数据失败")}finally{g.value=!1}};return T(()=>{A()}),(f,e)=>{const z=d("n-icon"),C=d("n-button"),o=d("n-space"),D=d("n-page-header"),r=d("n-statistic"),s=d("n-gi"),n=d("n-text"),x=d("n-grid"),v=d("n-divider"),i=d("n-tag"),y=d("n-card"),p=d("n-collapse-item"),F=d("n-collapse"),G=d("n-spin");return V(),E("div",null,[l(D,{title:"首页",subtitle:"查看你的学习统计数据"},{extra:t(()=>[l(o,null,{default:t(()=>[l(C,{onClick:A,loading:g.value},{icon:t(()=>[l(z,null,{default:t(()=>[l(J(O))]),_:1})]),default:t(()=>[e[0]||(e[0]=u(" 刷新 ",-1))]),_:1},8,["loading"])]),_:1})]),_:1}),l(G,{show:g.value},{default:t(()=>[l(o,{vertical:"",size:"large",style:{"margin-top":"24px"}},{default:t(()=>[l(y,{title:"📅 今日统计",hoverable:""},{default:t(()=>[l(x,{cols:"4","x-gap":"12"},{default:t(()=>[l(s,null,{default:t(()=>[l(r,{label:"练习题数",value:a.value.today.total_count},null,8,["value"])]),_:1}),l(s,null,{default:t(()=>[l(r,{label:"正确题数",value:a.value.today.correct_count},{suffix:t(()=>[l(n,{type:"success"},{default:t(()=>[...e[1]||(e[1]=[u("题",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),l(s,null,{default:t(()=>[l(r,{label:"错误题数",value:a.value.today.wrong_count},{suffix:t(()=>[l(n,{type:"error"},{default:t(()=>[...e[2]||(e[2]=[u("题",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),l(s,null,{default:t(()=>[l(r,{label:"正确率"},{default:t(()=>[l(n,{type:w(a.value.today.accuracy)},{default:t(()=>[u(_(a.value.today.accuracy)+"% ",1)]),_:1},8,["type"])]),_:1})]),_:1})]),_:1}),l(v),l(o,{align:"center"},{default:t(()=>[e[3]||(e[3]=m("span",null,"今日等级：",-1)),l(i,{type:b(a.value.today.grade),size:"large"},{default:t(()=>[u(_(a.value.today.grade),1)]),_:1},8,["type"])]),_:1})]),_:1}),l(y,{title:"📊 本周统计",hoverable:""},{default:t(()=>[l(x,{cols:"4","x-gap":"12"},{default:t(()=>[l(s,null,{default:t(()=>[l(r,{label:"练习题数",value:a.value.week.total_count},null,8,["value"])]),_:1}),l(s,null,{default:t(()=>[l(r,{label:"正确题数",value:a.value.week.correct_count},{suffix:t(()=>[l(n,{type:"success"},{default:t(()=>[...e[4]||(e[4]=[u("题",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),l(s,null,{default:t(()=>[l(r,{label:"错误题数",value:a.value.week.wrong_count},{suffix:t(()=>[l(n,{type:"error"},{default:t(()=>[...e[5]||(e[5]=[u("题",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),l(s,null,{default:t(()=>[l(r,{label:"正确率"},{default:t(()=>[l(n,{type:w(a.value.week.accuracy)},{default:t(()=>[u(_(a.value.week.accuracy)+"% ",1)]),_:1},8,["type"])]),_:1})]),_:1})]),_:1}),l(v),l(o,{align:"center"},{default:t(()=>[e[6]||(e[6]=m("span",null,"本周等级：",-1)),l(i,{type:b(a.value.week.grade),size:"large"},{default:t(()=>[u(_(a.value.week.grade),1)]),_:1},8,["type"])]),_:1})]),_:1}),l(y,{title:"📈 全部统计",hoverable:""},{default:t(()=>[l(x,{cols:"4","x-gap":"12"},{default:t(()=>[l(s,null,{default:t(()=>[l(r,{label:"总练习题数",value:a.value.all.total_count},null,8,["value"])]),_:1}),l(s,null,{default:t(()=>[l(r,{label:"总正确题数",value:a.value.all.correct_count},{suffix:t(()=>[l(n,{type:"success"},{default:t(()=>[...e[7]||(e[7]=[u("题",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),l(s,null,{default:t(()=>[l(r,{label:"总错误题数",value:a.value.all.wrong_count},{suffix:t(()=>[l(n,{type:"error"},{default:t(()=>[...e[8]||(e[8]=[u("题",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),l(s,null,{default:t(()=>[l(r,{label:"总正确率"},{default:t(()=>[l(n,{type:w(a.value.all.accuracy)},{default:t(()=>[u(_(a.value.all.accuracy)+"% ",1)]),_:1},8,["type"])]),_:1})]),_:1})]),_:1}),l(v),l(o,{align:"center"},{default:t(()=>[e[9]||(e[9]=m("span",null,"总体等级：",-1)),l(i,{type:b(a.value.all.grade),size:"large"},{default:t(()=>[u(_(a.value.all.grade),1)]),_:1},8,["type"]),l(v,{vertical:""}),e[10]||(e[10]=m("span",null,"连续学习：",-1)),l(i,{type:"info",size:"large"},{default:t(()=>[u(_(a.value.consecutive_days)+" 天 ",1)]),_:1})]),_:1})]),_:1}),l(y,{title:"📝 等级评价标准"},{default:t(()=>[l(o,null,{default:t(()=>[l(i,{type:"success"},{default:t(()=>[...e[11]||(e[11]=[u("A: ≥90%",-1)])]),_:1}),l(i,{type:"info"},{default:t(()=>[...e[12]||(e[12]=[u("B: 80-89%",-1)])]),_:1}),l(i,{type:"warning"},{default:t(()=>[...e[13]||(e[13]=[u("C: 70-79%",-1)])]),_:1}),l(i,{type:"warning"},{default:t(()=>[...e[14]||(e[14]=[u("D: 60-69%",-1)])]),_:1}),l(i,{type:"error"},{default:t(()=>[...e[15]||(e[15]=[u("F: <60%",-1)])]),_:1})]),_:1})]),_:1}),l(y,{title:"📚 使用教程",hoverable:""},{default:t(()=>[l(F,null,{default:t(()=>[l(p,{title:"1️⃣ 科目管理",name:"1"},{default:t(()=>[l(o,{vertical:""},{default:t(()=>[l(n,null,{default:t(()=>[...e[16]||(e[16]=[u("• 在「科目管理」页面，点击「添加科目」创建新科目",-1)])]),_:1}),l(n,null,{default:t(()=>[...e[17]||(e[17]=[u("• 每个科目可以单独管理题目和练习记录",-1)])]),_:1}),l(n,null,{default:t(()=>[...e[18]||(e[18]=[u("• 支持编辑科目名称和删除科目（删除后相关题目和记录也会被删除）",-1)])]),_:1})]),_:1})]),_:1}),l(p,{title:"2️⃣ 导入题目（AI智能识别）",name:"2"},{default:t(()=>[l(o,{vertical:""},{default:t(()=>[l(n,{strong:"",type:"success"},{default:t(()=>[...e[19]||(e[19]=[u("✨ 核心功能：利用 AI 视觉模型直接识别图片中的题目",-1)])]),_:1}),l(v,{style:{margin:"8px 0"}}),l(n,null,{default:t(()=>[...e[20]||(e[20]=[u("• 在「导入题目」页面，选择对应的科目",-1)])]),_:1}),l(n,null,{default:t(()=>[...e[21]||(e[21]=[u("• 上传包含题目的图片（支持：JPG、PNG、JPEG、BMP、WEBP）",-1)])]),_:1}),l(n,null,{default:t(()=>[...e[22]||(e[22]=[u("• AI 会自动识别图片中的题目类型（单选/多选/判断）、题干、选项和答案",-1)])]),_:1}),l(n,null,{default:t(()=>[...e[23]||(e[23]=[u("• 识别完成后可预览并确认导入，支持编辑题目内容和答案解析",-1)])]),_:1}),l(n,{depth:"3"},{default:t(()=>[...e[24]||(e[24]=[u("💡 提示：图片清晰度越高，识别准确率越高",-1)])]),_:1})]),_:1})]),_:1}),l(p,{title:"3️⃣ 题库管理",name:"3"},{default:t(()=>[l(o,{vertical:""},{default:t(()=>[l(n,null,{default:t(()=>[...e[25]||(e[25]=[u("• 在「题库管理」页面可查看所有已导入的题目",-1)])]),_:1}),l(n,null,{default:t(()=>[...e[26]||(e[26]=[u("• 支持按科目、题型筛选题目",-1)])]),_:1}),l(n,null,{default:t(()=>[...e[27]||(e[27]=[u("• 支持关键词搜索题目内容",-1)])]),_:1}),l(n,null,{default:t(()=>[...e[28]||(e[28]=[u("• 可以编辑或删除题目",-1)])]),_:1}),l(n,null,{default:t(()=>[...e[29]||(e[29]=[u("• 每页显示 20 道题，支持翻页查看",-1)])]),_:1})]),_:1})]),_:1}),l(p,{title:"4️⃣ 开始练习",name:"4"},{default:t(()=>[l(o,{vertical:""},{default:t(()=>[l(n,null,{default:t(()=>[...e[30]||(e[30]=[u("• 在「开始练习」页面选择科目",-1)])]),_:1}),l(n,null,{default:t(()=>[...e[31]||(e[31]=[u("• 所有题目一次性显示，无需逐题翻页",-1)])]),_:1}),l(n,null,{default:t(()=>[...e[32]||(e[32]=[u("• 右侧答题卡可快速跳转到指定题目",-1)])]),_:1}),l(n,null,{default:t(()=>[...e[33]||(e[33]=[u("• 完成答题后点击「提交答案」查看成绩",-1)])]),_:1}),l(n,null,{default:t(()=>[...e[34]||(e[34]=[u("• 系统自动记录每次练习的详细数据（正确率、等级、用时等）",-1)])]),_:1})]),_:1})]),_:1}),l(p,{title:"5️⃣ 错题集",name:"5"},{default:t(()=>[l(o,{vertical:""},{default:t(()=>[l(n,null,{default:t(()=>[...e[35]||(e[35]=[u("• 在「错题集」页面查看所有答错的题目",-1)])]),_:1}),l(n,null,{default:t(()=>[...e[36]||(e[36]=[u("• 卡片式布局，每道错题独立展示",-1)])]),_:1}),l(n,null,{default:t(()=>[...e[37]||(e[37]=[u("• 显示正确答案和答案解析",-1)])]),_:1}),l(n,null,{default:t(()=>[...e[38]||(e[38]=[u("• 可以进行「错题练习」，针对性复习薄弱环节",-1)])]),_:1}),l(n,null,{default:t(()=>[...e[39]||(e[39]=[u("• 答对的题目会自动从错题集中移除",-1)])]),_:1})]),_:1})]),_:1}),l(p,{title:"6️⃣ 做题记录",name:"6"},{default:t(()=>[l(o,{vertical:""},{default:t(()=>[l(n,null,{default:t(()=>[...e[40]||(e[40]=[u("• 在「做题记录」页面查看每次练习的详细信息",-1)])]),_:1}),l(n,null,{default:t(()=>[...e[41]||(e[41]=[u("• 记录包括：练习时间、科目、题数、正确率、等级",-1)])]),_:1}),l(n,null,{default:t(()=>[...e[42]||(e[42]=[u("• 点击「查看详情」可以查看每道题的答题情况",-1)])]),_:1}),l(n,null,{default:t(()=>[...e[43]||(e[43]=[u("• 详情中显示：题目内容、你的答案、正确答案、是否正确、答案解析",-1)])]),_:1}),l(n,null,{default:t(()=>[...e[44]||(e[44]=[u("• 支持按科目筛选历史记录",-1)])]),_:1})]),_:1})]),_:1}),l(p,{title:"7️⃣ 配置设置",name:"7"},{default:t(()=>[l(o,{vertical:""},{default:t(()=>[l(n,null,{default:t(()=>[...e[45]||(e[45]=[u("• 「AI 模型配置」：配置 OpenAI API 密钥和基础 URL",-1)])]),_:1}),l(n,{depth:"3"},{default:t(()=>[...e[46]||(e[46]=[u("⚠️ 注意：配置 API Key 后即可使用 AI 解析功能",-1)])]),_:1})]),_:1})]),_:1}),l(p,{title:"💡 学习建议",name:"8"},{default:t(()=>[l(o,{vertical:""},{default:t(()=>[l(n,{type:"info"},{default:t(()=>[...e[47]||(e[47]=[u("1. 定期导入新题目，保持题库更新",-1)])]),_:1}),l(n,{type:"info"},{default:t(()=>[...e[48]||(e[48]=[u("2. 每天坚持练习，查看首页统计了解学习进度",-1)])]),_:1}),l(n,{type:"info"},{default:t(()=>[...e[49]||(e[49]=[u("3. 重点攻克错题集，提高薄弱环节",-1)])]),_:1}),l(n,{type:"info"},{default:t(()=>[...e[50]||(e[50]=[u("4. 利用做题记录功能，追踪自己的进步",-1)])]),_:1}),l(n,{type:"info"},{default:t(()=>[...e[51]||(e[51]=[u("5. 争取达到 A 级（正确率 ≥90%），确保知识点掌握扎实",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["show"])])}}};export{L as default};
